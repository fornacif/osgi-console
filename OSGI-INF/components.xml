<?xml version="1.0" encoding="UTF-8"?>
<components xmlns:scr="http://www.osgi.org/xmlns/scr/v1.1.0">
	<scr:component name="ConsoleServlet" immediate="false">
		<implementation class="com.zenika.osgi.console.ConsoleServlet" />
		<property name="service.pid" value="console" />
		<property name="alias" value="/console" />
		<service>
			<provide interface="org.osgi.service.cm.ManagedService" />
			<provide interface="javax.servlet.Servlet" />
		</service>
		<reference name="dataSourceFactory" 
			interface="org.osgi.service.jdbc.DataSourceFactory"
			cardinality="1..1" 
			policy="static" 
			bind="bindDataSourceFactory" />
	</scr:component>

	<component name="ServiceFilter" immediate="true">
		<implementation class="com.zenika.osgi.console.ServiceFilter" />
		<service>
			<provide interface="org.osgi.framework.hooks.service.FindHook" />
		</service>
	</component>
</components>
